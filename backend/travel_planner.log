2025-07-25 15:58:31,236 - __main__ - INFO - Starting Enhanced Travel Planner API...
2025-07-25 16:01:42,174 - router.planner - INFO - Starting travel planning for request: I want to explore the cultural heritage of Sri Lanka for 3 days. I'm interested in ancient temples, ...
2025-07-25 16:01:42,194 - langgraph_flow.nodes.parser - INFO - Successfully parsed user input: ['cultural', 'adventure', 'historical', 'photography'], 3 days, couple
2025-07-25 16:01:42,821 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: sentence-transformers/all-MiniLM-L6-v2
2025-07-25 16:01:48,163 - huggingface_hub.file_download - WARNING - Xet Storage is enabled for this repo, but the 'hf_xet' package is not installed. Falling back to regular HTTP download. For better performance, install the package with: `pip install huggingface_hub[hf_xet]` or `pip install hf_xet`
2025-07-25 16:03:34,370 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cpu
2025-07-25 16:03:34,374 - vector_db - INFO - Connected to Qdrant at localhost:6333
2025-07-25 16:03:38,465 - vector_db - ERROR - Failed to initialize Qdrant collection: [WinError 10061] No connection could be made because the target machine actively refused it
2025-07-25 16:03:38,466 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: sentence-transformers/all-MiniLM-L6-v2
2025-07-25 16:03:41,929 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cpu
2025-07-25 16:03:46,246 - vector_db - ERROR - Semantic search failed: [WinError 10061] No connection could be made because the target machine actively refused it
2025-07-25 16:03:46,246 - vector_db - INFO - Using fallback text-based search
2025-07-25 16:03:46,247 - langgraph_flow.nodes.retriever - INFO - Found 5 candidate attractions
2025-07-25 16:03:46,404 - pear_ranker - WARNING - Neural model failed, using rule-based scoring: mat1 and mat2 shapes cannot be multiplied (5x397 and 394x256)
2025-07-25 16:03:46,404 - pear_ranker - INFO - Ranked 5 attractions using rule-based model
2025-07-25 16:03:46,404 - langgraph_flow.nodes.retriever - INFO - PEAR ranking selected 5 top attractions
2025-07-25 16:03:46,406 - langgraph_flow.nodes.planner - INFO - Starting planning with 5 attractions for 3 days
2025-07-25 16:03:48,918 - geo_clustering - INFO - DBSCAN clustering created 1 clusters from 5 attractions
2025-07-25 16:03:48,919 - langgraph_flow.nodes.planner - INFO - Created 1 geographic clusters
2025-07-25 16:03:48,919 - geo_clustering - INFO - Ranked 1 clusters by value per hour
2025-07-25 16:03:48,919 - geo_clustering - INFO - Cluster 1: Central Province, Value/Hour: 0.10, Attractions: 5
2025-07-25 16:03:48,919 - langgraph_flow.nodes.planner - INFO - Ranked clusters by value per hour
2025-07-25 16:03:48,919 - langgraph_flow.nodes.planner - INFO - Selected 0 clusters for 3 days
2025-07-25 16:03:49,742 - langgraph_flow.nodes.planner - ERROR - LLM reasoning failed: 400 API key not valid. Please pass a valid API key. [reason: "API_KEY_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "generativelanguage.googleapis.com"
}
, locale: "en-US"
message: "API key not valid. Please pass a valid API key."
]
2025-07-25 16:03:49,742 - langgraph_flow.nodes.planner - INFO - Successfully generated complete travel plan
2025-07-25 16:03:49,744 - langgraph_flow.planner_graph - INFO - Trip planning completed successfully
2025-07-25 16:03:49,744 - router.planner - INFO - Successfully generated travel plan with ID: plan_20250725_160349
2025-07-25 16:06:01,485 - router.planner - INFO - Starting travel planning for request: Plan a 7-day trip combining beautiful beaches and wildlife safaris. I want to see elephants, leopard...
2025-07-25 16:06:01,486 - langgraph_flow.nodes.parser - INFO - Successfully parsed user input: ['adventure', 'beach', 'wildlife'], 7 days, couple
2025-07-25 16:06:05,587 - vector_db - ERROR - Semantic search failed: [WinError 10061] No connection could be made because the target machine actively refused it
2025-07-25 16:06:05,588 - vector_db - INFO - Using fallback text-based search
2025-07-25 16:06:09,659 - vector_db - ERROR - Failed to get attractions by region: [WinError 10061] No connection could be made because the target machine actively refused it
2025-07-25 16:06:09,659 - langgraph_flow.nodes.retriever - INFO - Found 3 candidate attractions
2025-07-25 16:06:09,722 - pear_ranker - WARNING - Neural model failed, using rule-based scoring: mat1 and mat2 shapes cannot be multiplied (3x397 and 394x256)
2025-07-25 16:06:09,722 - pear_ranker - INFO - Ranked 3 attractions using rule-based model
2025-07-25 16:06:09,723 - langgraph_flow.nodes.retriever - INFO - PEAR ranking selected 3 top attractions
2025-07-25 16:06:09,725 - langgraph_flow.nodes.planner - INFO - Starting planning with 3 attractions for 7 days
2025-07-25 16:06:09,729 - geo_clustering - INFO - DBSCAN clustering created 1 clusters from 3 attractions
2025-07-25 16:06:09,730 - langgraph_flow.nodes.planner - INFO - Created 1 geographic clusters
2025-07-25 16:06:09,730 - geo_clustering - INFO - Ranked 1 clusters by value per hour
2025-07-25 16:06:09,730 - geo_clustering - INFO - Cluster 1: Southern Province, Value/Hour: 0.13, Attractions: 3
2025-07-25 16:06:09,731 - langgraph_flow.nodes.planner - INFO - Ranked clusters by value per hour
2025-07-25 16:06:09,731 - langgraph_flow.nodes.planner - INFO - Selected 1 clusters for 7 days
2025-07-25 16:06:10,602 - route_optimizer - ERROR - OpenRouteService API error: 403 - {
    "error": "Access to this API has been disallowed"
}
2025-07-25 16:06:10,605 - route_optimizer - WARNING - Using Haversine distance fallback for route optimization
2025-07-25 16:06:10,607 - route_optimizer - WARNING - Not enough time for attraction Adam's Peak (Sri Pada) on current day
2025-07-25 16:06:10,957 - langgraph_flow.nodes.planner - ERROR - LLM reasoning failed: 400 API key not valid. Please pass a valid API key. [reason: "API_KEY_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "generativelanguage.googleapis.com"
}
, locale: "en-US"
message: "API key not valid. Please pass a valid API key."
]
2025-07-25 16:06:10,957 - langgraph_flow.nodes.planner - INFO - Successfully generated complete travel plan
2025-07-25 16:06:10,959 - langgraph_flow.planner_graph - INFO - Trip planning completed successfully
2025-07-25 16:06:10,959 - router.planner - INFO - Successfully generated travel plan with ID: plan_20250725_160610
2025-07-25 16:06:10,962 - main - ERROR - Unexpected error: Unable to serialize unknown type: <class 'numpy.int64'>
2025-07-25 16:06:51,201 - router.planner - INFO - Starting travel planning for request: I'm a solo backpacker on a tight budget planning 5 days in Sri Lanka. I want to see Sigiriya, visit ...
2025-07-25 16:06:51,203 - langgraph_flow.nodes.parser - INFO - Successfully parsed user input: ['cultural', 'adventure', 'historical'], 5 days, solo
2025-07-25 16:06:55,317 - vector_db - ERROR - Semantic search failed: [WinError 10061] No connection could be made because the target machine actively refused it
2025-07-25 16:06:55,318 - vector_db - INFO - Using fallback text-based search
2025-07-25 16:06:59,394 - vector_db - ERROR - Failed to get attractions by region: [WinError 10061] No connection could be made because the target machine actively refused it
2025-07-25 16:06:59,395 - langgraph_flow.nodes.retriever - INFO - Found 5 candidate attractions
2025-07-25 16:06:59,493 - pear_ranker - WARNING - Neural model failed, using rule-based scoring: mat1 and mat2 shapes cannot be multiplied (5x397 and 394x256)
2025-07-25 16:06:59,493 - pear_ranker - INFO - Ranked 5 attractions using rule-based model
2025-07-25 16:06:59,494 - langgraph_flow.nodes.retriever - INFO - PEAR ranking selected 5 top attractions
2025-07-25 16:06:59,496 - langgraph_flow.nodes.planner - INFO - Starting planning with 5 attractions for 5 days
2025-07-25 16:06:59,502 - geo_clustering - INFO - DBSCAN clustering created 1 clusters from 5 attractions
2025-07-25 16:06:59,502 - langgraph_flow.nodes.planner - INFO - Created 1 geographic clusters
2025-07-25 16:06:59,502 - geo_clustering - INFO - Ranked 1 clusters by value per hour
2025-07-25 16:06:59,503 - geo_clustering - INFO - Cluster 1: Central Province, Value/Hour: 0.10, Attractions: 5
2025-07-25 16:06:59,503 - langgraph_flow.nodes.planner - INFO - Ranked clusters by value per hour
2025-07-25 16:06:59,503 - langgraph_flow.nodes.planner - INFO - Selected 0 clusters for 5 days
2025-07-25 16:06:59,865 - langgraph_flow.nodes.planner - ERROR - LLM reasoning failed: 400 API key not valid. Please pass a valid API key. [reason: "API_KEY_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "generativelanguage.googleapis.com"
}
, locale: "en-US"
message: "API key not valid. Please pass a valid API key."
]
2025-07-25 16:06:59,865 - langgraph_flow.nodes.planner - INFO - Successfully generated complete travel plan
2025-07-25 16:06:59,867 - langgraph_flow.planner_graph - INFO - Trip planning completed successfully
2025-07-25 16:06:59,867 - router.planner - INFO - Successfully generated travel plan with ID: plan_20250725_160659
2025-07-25 16:45:18,564 - router.planner - INFO - Starting travel planning for request: Planning a family vacation with two kids (ages 8 and 12) for 4 days. We want kid-friendly activities...
2025-07-25 16:45:18,573 - langgraph_flow.nodes.parser - INFO - Successfully parsed user input: ['cultural', 'nature', 'adventure', 'beach'], 4 days, family
2025-07-25 16:45:22,702 - vector_db - ERROR - Semantic search failed: [WinError 10061] No connection could be made because the target machine actively refused it
2025-07-25 16:45:22,702 - vector_db - INFO - Using fallback text-based search
2025-07-25 16:45:22,702 - langgraph_flow.nodes.retriever - INFO - Found 4 candidate attractions
2025-07-25 16:45:22,812 - pear_ranker - WARNING - Neural model failed, using rule-based scoring: mat1 and mat2 shapes cannot be multiplied (4x397 and 394x256)
2025-07-25 16:45:22,813 - pear_ranker - INFO - Ranked 4 attractions using rule-based model
2025-07-25 16:45:22,813 - langgraph_flow.nodes.retriever - INFO - PEAR ranking selected 4 top attractions
2025-07-25 16:45:22,816 - langgraph_flow.nodes.planner - INFO - Starting planning with 4 attractions for 4 days
2025-07-25 16:45:22,827 - geo_clustering - INFO - DBSCAN clustering created 1 clusters from 4 attractions
2025-07-25 16:45:22,828 - langgraph_flow.nodes.planner - INFO - Created 1 geographic clusters
2025-07-25 16:45:22,828 - geo_clustering - INFO - Ranked 1 clusters by value per hour
2025-07-25 16:45:22,828 - geo_clustering - INFO - Cluster 1: Central Province, Value/Hour: 0.14, Attractions: 4
2025-07-25 16:45:22,828 - langgraph_flow.nodes.planner - INFO - Ranked clusters by value per hour
2025-07-25 16:45:22,829 - langgraph_flow.nodes.planner - INFO - Selected 1 clusters for 4 days
2025-07-25 16:45:23,697 - route_optimizer - ERROR - OpenRouteService API error: 403 - {
    "error": "Access to this API has been disallowed"
}
2025-07-25 16:45:23,699 - route_optimizer - WARNING - Using Haversine distance fallback for route optimization
2025-07-25 16:45:23,700 - route_optimizer - WARNING - Not enough time for attraction Adam's Peak (Sri Pada) on current day
2025-07-25 16:45:24,306 - langgraph_flow.nodes.planner - ERROR - LLM reasoning failed: 400 API key not valid. Please pass a valid API key. [reason: "API_KEY_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "generativelanguage.googleapis.com"
}
, locale: "en-US"
message: "API key not valid. Please pass a valid API key."
]
2025-07-25 16:45:24,307 - langgraph_flow.nodes.planner - INFO - Successfully generated complete travel plan
2025-07-25 16:45:24,308 - langgraph_flow.planner_graph - INFO - Trip planning completed successfully
2025-07-25 16:45:24,308 - router.planner - INFO - Successfully generated travel plan with ID: plan_20250725_164524
2025-07-25 16:45:24,309 - main - ERROR - Unexpected error: Unable to serialize unknown type: <class 'numpy.int64'>
2025-07-25 16:45:54,010 - router.planner - INFO - Starting travel planning for request: Quick 2-day weekend escape from Colombo. Want to see something different but not travel too far. Int...
2025-07-25 16:45:54,018 - langgraph_flow.nodes.parser - INFO - Successfully parsed user input: ['nature', 'adventure'], 2 days, couple
2025-07-25 16:45:58,131 - vector_db - ERROR - Semantic search failed: [WinError 10061] No connection could be made because the target machine actively refused it
2025-07-25 16:45:58,131 - vector_db - INFO - Using fallback text-based search
2025-07-25 16:46:02,184 - vector_db - ERROR - Failed to get attractions by region: [WinError 10061] No connection could be made because the target machine actively refused it
2025-07-25 16:46:02,184 - langgraph_flow.nodes.retriever - INFO - Found 2 candidate attractions
2025-07-25 16:46:02,237 - pear_ranker - WARNING - Neural model failed, using rule-based scoring: mat1 and mat2 shapes cannot be multiplied (2x397 and 394x256)
2025-07-25 16:46:02,237 - pear_ranker - INFO - Ranked 2 attractions using rule-based model
2025-07-25 16:46:02,237 - langgraph_flow.nodes.retriever - INFO - PEAR ranking selected 2 top attractions
2025-07-25 16:46:02,238 - langgraph_flow.planner_graph - WARNING - Only 2 attractions found, may result in limited itinerary
2025-07-25 16:46:02,239 - langgraph_flow.nodes.planner - INFO - Starting planning with 2 attractions for 2 days
2025-07-25 16:46:02,246 - geo_clustering - INFO - DBSCAN clustering created 1 clusters from 2 attractions
2025-07-25 16:46:02,246 - langgraph_flow.nodes.planner - INFO - Created 1 geographic clusters
2025-07-25 16:46:02,246 - geo_clustering - INFO - Ranked 1 clusters by value per hour
2025-07-25 16:46:02,246 - geo_clustering - INFO - Cluster 1: Central Province, Value/Hour: 0.20, Attractions: 2
2025-07-25 16:46:02,247 - langgraph_flow.nodes.planner - INFO - Ranked clusters by value per hour
2025-07-25 16:46:02,248 - langgraph_flow.nodes.planner - INFO - Selected 1 clusters for 2 days
2025-07-25 16:46:03,024 - route_optimizer - ERROR - OpenRouteService API error: 403 - {
    "error": "Access to this API has been disallowed"
}
2025-07-25 16:46:03,025 - route_optimizer - WARNING - Using Haversine distance fallback for route optimization
2025-07-25 16:46:03,026 - route_optimizer - WARNING - Not enough time for attraction Nine Arch Bridge Ella on current day
2025-07-25 16:46:03,367 - langgraph_flow.nodes.planner - ERROR - LLM reasoning failed: 400 API key not valid. Please pass a valid API key. [reason: "API_KEY_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "generativelanguage.googleapis.com"
}
, locale: "en-US"
message: "API key not valid. Please pass a valid API key."
]
2025-07-25 16:46:03,367 - langgraph_flow.nodes.planner - INFO - Successfully generated complete travel plan
2025-07-25 16:46:03,368 - langgraph_flow.planner_graph - INFO - Trip planning completed successfully
2025-07-25 16:46:03,369 - router.planner - INFO - Successfully generated travel plan with ID: plan_20250725_164603
2025-07-25 16:46:03,369 - main - ERROR - Unexpected error: Unable to serialize unknown type: <class 'numpy.int64'>
2025-07-25 16:46:29,658 - router.planner - INFO - Starting travel planning for request: I'm a landscape photographer planning a 5-day photography tour. Looking for the most scenic location...
2025-07-25 16:46:29,659 - langgraph_flow.nodes.parser - INFO - Successfully parsed user input: ['cultural', 'nature', 'beach', 'photography'], 5 days, couple
2025-07-25 16:46:33,744 - vector_db - ERROR - Semantic search failed: [WinError 10061] No connection could be made because the target machine actively refused it
2025-07-25 16:46:33,745 - vector_db - INFO - Using fallback text-based search
2025-07-25 16:46:33,745 - langgraph_flow.nodes.retriever - INFO - Found 3 candidate attractions
2025-07-25 16:46:33,807 - pear_ranker - WARNING - Neural model failed, using rule-based scoring: mat1 and mat2 shapes cannot be multiplied (3x397 and 394x256)
2025-07-25 16:46:33,808 - pear_ranker - INFO - Ranked 3 attractions using rule-based model
2025-07-25 16:46:33,808 - langgraph_flow.nodes.retriever - INFO - PEAR ranking selected 3 top attractions
2025-07-25 16:46:33,810 - langgraph_flow.nodes.planner - INFO - Starting planning with 3 attractions for 5 days
2025-07-25 16:46:33,816 - geo_clustering - INFO - DBSCAN clustering created 1 clusters from 3 attractions
2025-07-25 16:46:33,816 - langgraph_flow.nodes.planner - INFO - Created 1 geographic clusters
2025-07-25 16:46:33,816 - geo_clustering - INFO - Ranked 1 clusters by value per hour
2025-07-25 16:46:33,817 - geo_clustering - INFO - Cluster 1: Central Province, Value/Hour: 0.17, Attractions: 3
2025-07-25 16:46:33,817 - langgraph_flow.nodes.planner - INFO - Ranked clusters by value per hour
2025-07-25 16:46:33,818 - langgraph_flow.nodes.planner - INFO - Selected 1 clusters for 5 days
2025-07-25 16:46:34,544 - route_optimizer - ERROR - OpenRouteService API error: 403 - {
    "error": "Access to this API has been disallowed"
}
2025-07-25 16:46:34,545 - route_optimizer - WARNING - Using Haversine distance fallback for route optimization
2025-07-25 16:46:34,545 - route_optimizer - WARNING - Not enough time for attraction Mirissa Beach on current day
2025-07-25 16:46:34,898 - langgraph_flow.nodes.planner - ERROR - LLM reasoning failed: 400 API key not valid. Please pass a valid API key. [reason: "API_KEY_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "generativelanguage.googleapis.com"
}
, locale: "en-US"
message: "API key not valid. Please pass a valid API key."
]
2025-07-25 16:46:34,898 - langgraph_flow.nodes.planner - INFO - Successfully generated complete travel plan
2025-07-25 16:46:34,900 - langgraph_flow.planner_graph - INFO - Trip planning completed successfully
2025-07-25 16:46:34,900 - router.planner - INFO - Successfully generated travel plan with ID: plan_20250725_164634
2025-07-25 16:46:34,901 - main - ERROR - Unexpected error: Unable to serialize unknown type: <class 'numpy.int64'>
2025-07-25 16:47:07,306 - router.planner - INFO - Starting travel planning for request: I want to explore the cultural heritage of Sri Lanka for 3 days. I'm interested in ancient temples, ...
2025-07-25 16:47:07,307 - langgraph_flow.nodes.parser - INFO - Successfully parsed user input: ['cultural', 'adventure', 'historical', 'photography'], 3 days, couple
2025-07-25 16:47:11,404 - vector_db - ERROR - Semantic search failed: [WinError 10061] No connection could be made because the target machine actively refused it
2025-07-25 16:47:11,405 - vector_db - INFO - Using fallback text-based search
2025-07-25 16:47:11,405 - langgraph_flow.nodes.retriever - INFO - Found 5 candidate attractions
2025-07-25 16:47:11,520 - pear_ranker - WARNING - Neural model failed, using rule-based scoring: mat1 and mat2 shapes cannot be multiplied (5x397 and 394x256)
2025-07-25 16:47:11,520 - pear_ranker - INFO - Ranked 5 attractions using rule-based model
2025-07-25 16:47:11,521 - langgraph_flow.nodes.retriever - INFO - PEAR ranking selected 5 top attractions
2025-07-25 16:47:11,522 - langgraph_flow.nodes.planner - INFO - Starting planning with 5 attractions for 3 days
2025-07-25 16:47:11,531 - geo_clustering - INFO - DBSCAN clustering created 1 clusters from 5 attractions
2025-07-25 16:47:11,532 - langgraph_flow.nodes.planner - INFO - Created 1 geographic clusters
2025-07-25 16:47:11,533 - geo_clustering - INFO - Ranked 1 clusters by value per hour
2025-07-25 16:47:11,533 - geo_clustering - INFO - Cluster 1: Central Province, Value/Hour: 0.10, Attractions: 5
2025-07-25 16:47:11,536 - langgraph_flow.nodes.planner - INFO - Ranked clusters by value per hour
2025-07-25 16:47:11,536 - langgraph_flow.nodes.planner - INFO - Selected 0 clusters for 3 days
2025-07-25 16:47:11,883 - langgraph_flow.nodes.planner - ERROR - LLM reasoning failed: 400 API key not valid. Please pass a valid API key. [reason: "API_KEY_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "generativelanguage.googleapis.com"
}
, locale: "en-US"
message: "API key not valid. Please pass a valid API key."
]
2025-07-25 16:47:11,884 - langgraph_flow.nodes.planner - INFO - Successfully generated complete travel plan
2025-07-25 16:47:11,885 - langgraph_flow.planner_graph - INFO - Trip planning completed successfully
2025-07-25 16:47:11,886 - router.planner - INFO - Successfully generated travel plan with ID: plan_20250725_164711
2025-07-25 17:14:33,295 - router.planner - INFO - Starting travel planning for request: I want to explore the cultural heritage of Sri Lanka for 3 days. I'm interested in ancient temples, ...
2025-07-25 17:14:33,298 - langgraph_flow.nodes.parser - INFO - Successfully parsed user input: ['cultural', 'adventure', 'historical', 'photography'], 3 days, couple
2025-07-25 17:14:37,409 - vector_db - ERROR - Semantic search failed: [WinError 10061] No connection could be made because the target machine actively refused it
2025-07-25 17:14:37,409 - vector_db - INFO - Using fallback text-based search
2025-07-25 17:14:37,410 - langgraph_flow.nodes.retriever - INFO - Found 5 candidate attractions
2025-07-25 17:14:37,519 - pear_ranker - WARNING - Neural model failed, using rule-based scoring: mat1 and mat2 shapes cannot be multiplied (5x397 and 394x256)
2025-07-25 17:14:37,519 - pear_ranker - INFO - Ranked 5 attractions using rule-based model
2025-07-25 17:14:37,519 - langgraph_flow.nodes.retriever - INFO - PEAR ranking selected 5 top attractions
2025-07-25 17:14:37,522 - langgraph_flow.nodes.planner - INFO - Starting planning with 5 attractions for 3 days
2025-07-25 17:14:37,529 - geo_clustering - INFO - DBSCAN clustering created 1 clusters from 5 attractions
2025-07-25 17:14:37,529 - langgraph_flow.nodes.planner - INFO - Created 1 geographic clusters
2025-07-25 17:14:37,529 - geo_clustering - INFO - Ranked 1 clusters by value per hour
2025-07-25 17:14:37,530 - geo_clustering - INFO - Cluster 1: Central Province, Value/Hour: 0.10, Attractions: 5
2025-07-25 17:14:37,530 - langgraph_flow.nodes.planner - INFO - Ranked clusters by value per hour
2025-07-25 17:14:37,531 - langgraph_flow.nodes.planner - INFO - Selected 0 clusters for 3 days
2025-07-25 17:14:38,144 - langgraph_flow.nodes.planner - ERROR - LLM reasoning failed: 400 API key not valid. Please pass a valid API key. [reason: "API_KEY_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "generativelanguage.googleapis.com"
}
, locale: "en-US"
message: "API key not valid. Please pass a valid API key."
]
2025-07-25 17:14:38,144 - langgraph_flow.nodes.planner - INFO - Successfully generated complete travel plan
2025-07-25 17:14:38,145 - langgraph_flow.planner_graph - INFO - Trip planning completed successfully
2025-07-25 17:14:38,145 - router.planner - INFO - Successfully generated travel plan with ID: plan_20250725_171438
2025-07-25 17:21:43,004 - router.planner - INFO - Starting travel planning for request: I want to explore the cultural heritage of Sri Lanka for 3 days. I'm interested in ancient temples, ...
2025-07-25 17:21:43,006 - langgraph_flow.nodes.parser - INFO - Successfully parsed user input: ['cultural', 'adventure', 'historical', 'photography'], 3 days, couple
2025-07-25 17:21:47,106 - vector_db - ERROR - Semantic search failed: [WinError 10061] No connection could be made because the target machine actively refused it
2025-07-25 17:21:47,107 - vector_db - INFO - Using fallback text-based search
2025-07-25 17:21:47,107 - langgraph_flow.nodes.retriever - INFO - Found 5 candidate attractions
2025-07-25 17:21:47,206 - pear_ranker - WARNING - Neural model failed, using rule-based scoring: mat1 and mat2 shapes cannot be multiplied (5x397 and 394x256)
2025-07-25 17:21:47,206 - pear_ranker - INFO - Ranked 5 attractions using rule-based model
2025-07-25 17:21:47,206 - langgraph_flow.nodes.retriever - INFO - PEAR ranking selected 5 top attractions
2025-07-25 17:21:47,209 - langgraph_flow.nodes.planner - INFO - Starting planning with 5 attractions for 3 days
2025-07-25 17:21:47,215 - geo_clustering - INFO - DBSCAN clustering created 1 clusters from 5 attractions
2025-07-25 17:21:47,216 - langgraph_flow.nodes.planner - INFO - Created 1 geographic clusters
2025-07-25 17:21:47,217 - geo_clustering - INFO - Ranked 1 clusters by value per hour
2025-07-25 17:21:47,217 - geo_clustering - INFO - Cluster 1: Central Province, Value/Hour: 0.10, Attractions: 5
2025-07-25 17:21:47,218 - langgraph_flow.nodes.planner - INFO - Ranked clusters by value per hour
2025-07-25 17:21:47,218 - langgraph_flow.nodes.planner - INFO - Selected 0 clusters for 3 days
2025-07-25 17:21:47,911 - langgraph_flow.nodes.planner - ERROR - LLM reasoning failed: 400 API key not valid. Please pass a valid API key. [reason: "API_KEY_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "generativelanguage.googleapis.com"
}
, locale: "en-US"
message: "API key not valid. Please pass a valid API key."
]
2025-07-25 17:21:47,912 - langgraph_flow.nodes.planner - INFO - Successfully generated complete travel plan
2025-07-25 17:21:47,914 - langgraph_flow.planner_graph - INFO - Trip planning completed successfully
2025-07-25 17:21:47,914 - router.planner - INFO - Successfully generated travel plan with ID: plan_20250725_172147
2025-07-25 17:31:08,990 - router.planner - INFO - Starting travel planning for request: I want to explore the cultural heritage of Sri Lanka for 3 days. I'm interested in ancient temples, ...
2025-07-25 17:31:09,011 - langgraph_flow.nodes.parser - INFO - Successfully parsed user input: ['cultural', 'adventure', 'historical', 'photography'], 3 days, couple
2025-07-25 17:31:09,624 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: sentence-transformers/all-MiniLM-L6-v2
2025-07-25 17:31:15,508 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cpu
2025-07-25 17:31:15,510 - vector_db - INFO - Connected to Qdrant at localhost:6333
2025-07-25 17:31:19,581 - vector_db - ERROR - Failed to initialize Qdrant collection: [WinError 10061] No connection could be made because the target machine actively refused it
2025-07-25 17:31:19,582 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: sentence-transformers/all-MiniLM-L6-v2
2025-07-25 17:31:22,951 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cpu
2025-07-25 17:31:27,131 - vector_db - ERROR - Semantic search failed: [WinError 10061] No connection could be made because the target machine actively refused it
2025-07-25 17:31:27,132 - vector_db - INFO - Using fallback text-based search
2025-07-25 17:31:27,132 - langgraph_flow.nodes.retriever - INFO - Found 5 candidate attractions
2025-07-25 17:31:27,235 - pear_ranker - WARNING - Neural model failed, using rule-based scoring: mat1 and mat2 shapes cannot be multiplied (5x397 and 394x256)
2025-07-25 17:31:27,236 - pear_ranker - INFO - Ranked 5 attractions using rule-based model
2025-07-25 17:31:27,236 - langgraph_flow.nodes.retriever - INFO - PEAR ranking selected 5 top attractions
2025-07-25 17:31:27,237 - langgraph_flow.nodes.planner - INFO - Starting planning with 5 attractions for 3 days
2025-07-25 17:31:29,321 - geo_clustering - INFO - DBSCAN clustering created 1 clusters from 5 attractions
2025-07-25 17:31:29,322 - langgraph_flow.nodes.planner - INFO - Created 1 geographic clusters
2025-07-25 17:31:29,322 - geo_clustering - INFO - Ranked 1 clusters by value per hour
2025-07-25 17:31:29,322 - geo_clustering - INFO - Cluster 1: Central Province, Value/Hour: 0.10, Attractions: 5
2025-07-25 17:31:29,323 - langgraph_flow.nodes.planner - INFO - Ranked clusters by value per hour
2025-07-25 17:31:29,323 - langgraph_flow.nodes.planner - INFO - Selected 0 clusters for 3 days
2025-07-25 17:31:30,310 - langgraph_flow.nodes.planner - ERROR - LLM reasoning failed: 400 API key not valid. Please pass a valid API key. [reason: "API_KEY_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "generativelanguage.googleapis.com"
}
, locale: "en-US"
message: "API key not valid. Please pass a valid API key."
]
2025-07-25 17:31:30,311 - langgraph_flow.nodes.planner - INFO - Successfully generated complete travel plan
2025-07-25 17:31:30,311 - langgraph_flow.planner_graph - INFO - Trip planning completed successfully
2025-07-25 17:31:30,312 - router.planner - INFO - Successfully generated travel plan with ID: plan_20250725_173130
2025-07-25 17:35:36,668 - router.planner - INFO - Starting travel planning for request: I want to explore the cultural heritage of Sri Lanka for 3 days. I'm interested in ancient temples, ...
2025-07-25 17:35:36,670 - langgraph_flow.nodes.parser - INFO - Successfully parsed user input: ['cultural', 'adventure', 'historical', 'photography'], 3 days, couple
2025-07-25 17:35:40,776 - vector_db - ERROR - Semantic search failed: [WinError 10061] No connection could be made because the target machine actively refused it
2025-07-25 17:35:40,777 - vector_db - INFO - Using fallback text-based search
2025-07-25 17:35:40,777 - langgraph_flow.nodes.retriever - INFO - Found 5 candidate attractions
2025-07-25 17:35:40,881 - pear_ranker - WARNING - Neural model failed, using rule-based scoring: mat1 and mat2 shapes cannot be multiplied (5x397 and 394x256)
2025-07-25 17:35:40,882 - pear_ranker - INFO - Ranked 5 attractions using rule-based model
2025-07-25 17:35:40,882 - langgraph_flow.nodes.retriever - INFO - PEAR ranking selected 5 top attractions
2025-07-25 17:35:40,884 - langgraph_flow.nodes.planner - INFO - Starting planning with 5 attractions for 3 days
2025-07-25 17:35:40,889 - geo_clustering - INFO - DBSCAN clustering created 1 clusters from 5 attractions
2025-07-25 17:35:40,890 - langgraph_flow.nodes.planner - INFO - Created 1 geographic clusters
2025-07-25 17:35:40,890 - geo_clustering - INFO - Ranked 1 clusters by value per hour
2025-07-25 17:35:40,890 - geo_clustering - INFO - Cluster 1: Central Province, Value/Hour: 0.10, Attractions: 5
2025-07-25 17:35:40,890 - langgraph_flow.nodes.planner - INFO - Ranked clusters by value per hour
2025-07-25 17:35:40,891 - langgraph_flow.nodes.planner - INFO - Selected 0 clusters for 3 days
2025-07-25 17:35:41,521 - langgraph_flow.nodes.planner - ERROR - LLM reasoning failed: 400 API key not valid. Please pass a valid API key. [reason: "API_KEY_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "generativelanguage.googleapis.com"
}
, locale: "en-US"
message: "API key not valid. Please pass a valid API key."
]
2025-07-25 17:35:41,522 - langgraph_flow.nodes.planner - INFO - Successfully generated complete travel plan
2025-07-25 17:35:41,523 - langgraph_flow.planner_graph - INFO - Trip planning completed successfully
2025-07-25 17:35:41,524 - router.planner - INFO - Successfully generated travel plan with ID: plan_20250725_173541
2025-07-25 17:38:01,134 - router.planner - INFO - Starting travel planning for request: I want to explore the cultural heritage of Sri Lanka for 3 days. I'm interested in ancient temples, ...
2025-07-25 17:38:01,148 - langgraph_flow.nodes.parser - INFO - Successfully parsed user input: ['cultural', 'adventure', 'historical', 'photography'], 3 days, couple
2025-07-25 17:38:01,151 - vector_db - ERROR - Failed to connect to Qdrant: `host` param is not expected to contain protocol (http:// or https://). Try to use `url` parameter instead.
2025-07-25 17:38:01,152 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: sentence-transformers/all-MiniLM-L6-v2
2025-07-25 17:38:06,699 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cpu
2025-07-25 17:38:06,703 - vector_db - INFO - Using fallback text-based search
2025-07-25 17:38:06,703 - langgraph_flow.nodes.retriever - INFO - Found 5 candidate attractions
2025-07-25 17:38:06,831 - pear_ranker - WARNING - Neural model failed, using rule-based scoring: mat1 and mat2 shapes cannot be multiplied (5x397 and 394x256)
2025-07-25 17:38:06,832 - pear_ranker - INFO - Ranked 5 attractions using rule-based model
2025-07-25 17:38:06,832 - langgraph_flow.nodes.retriever - INFO - PEAR ranking selected 5 top attractions
2025-07-25 17:38:06,835 - langgraph_flow.nodes.planner - INFO - Loading Gemini API key: AIzaSyBAlt...
2025-07-25 17:38:06,835 - langgraph_flow.nodes.planner - INFO - Gemini LLM initialized successfully
2025-07-25 17:38:06,835 - langgraph_flow.nodes.planner - INFO - Starting planning with 5 attractions for 3 days
2025-07-25 17:38:08,532 - geo_clustering - INFO - DBSCAN clustering created 1 clusters from 5 attractions
2025-07-25 17:38:08,532 - langgraph_flow.nodes.planner - INFO - Created 1 geographic clusters
2025-07-25 17:38:08,532 - geo_clustering - INFO - Ranked 1 clusters by value per hour
2025-07-25 17:38:08,532 - geo_clustering - INFO - Cluster 1: Central Province, Value/Hour: 0.10, Attractions: 5
2025-07-25 17:38:08,533 - langgraph_flow.nodes.planner - INFO - Ranked clusters by value per hour
2025-07-25 17:38:08,533 - langgraph_flow.nodes.planner - INFO - Selected 0 clusters for 3 days
2025-07-25 17:38:14,470 - langgraph_flow.nodes.planner - INFO - LLM reasoning completed successfully
2025-07-25 17:38:14,470 - langgraph_flow.nodes.planner - INFO - Successfully generated complete travel plan
2025-07-25 17:38:14,471 - langgraph_flow.planner_graph - INFO - Trip planning completed successfully
2025-07-25 17:38:14,472 - router.planner - INFO - Successfully generated travel plan with ID: plan_20250725_173814
2025-07-25 18:08:27,655 - router.planner - INFO - Starting travel planning for request: I want to explore the cultural heritage of Sri Lanka for 3 days. I'm interested in ancient temples, ...
2025-07-25 18:08:27,674 - langgraph_flow.nodes.parser - INFO - Successfully parsed user input: ['cultural', 'adventure', 'historical', 'photography'], 3 days, couple
2025-07-25 18:08:27,677 - vector_db - ERROR - Failed to connect to Qdrant: `host` param is not expected to contain protocol (http:// or https://). Try to use `url` parameter instead.
2025-07-25 18:08:27,678 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: sentence-transformers/all-MiniLM-L6-v2
2025-07-25 18:08:31,168 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cpu
2025-07-25 18:08:31,183 - vector_db - INFO - Using fallback text-based search
2025-07-25 18:08:31,184 - langgraph_flow.nodes.retriever - INFO - Found 5 candidate attractions
2025-07-25 18:08:31,806 - pear_ranker - WARNING - Neural model failed, using rule-based scoring: mat1 and mat2 shapes cannot be multiplied (5x397 and 394x256)
2025-07-25 18:08:31,806 - pear_ranker - INFO - Ranked 5 attractions using rule-based model
2025-07-25 18:08:31,807 - langgraph_flow.nodes.retriever - INFO - PEAR ranking selected 5 top attractions
2025-07-25 18:08:31,809 - langgraph_flow.nodes.planner - INFO - Loading Gemini API key: AIzaSyBAlt...
2025-07-25 18:08:31,809 - langgraph_flow.nodes.planner - INFO - Gemini LLM initialized successfully
2025-07-25 18:08:31,809 - langgraph_flow.nodes.planner - INFO - Starting planning with 5 attractions for 3 days
2025-07-25 18:08:33,591 - geo_clustering - INFO - DBSCAN clustering created 1 clusters from 5 attractions
2025-07-25 18:08:33,591 - langgraph_flow.nodes.planner - INFO - Created 1 geographic clusters
2025-07-25 18:08:33,591 - geo_clustering - INFO - Ranked 1 clusters by value per hour
2025-07-25 18:08:33,591 - geo_clustering - INFO - Cluster 1: Central Province, Value/Hour: 0.10, Attractions: 5
2025-07-25 18:08:33,592 - langgraph_flow.nodes.planner - INFO - Ranked clusters by value per hour
2025-07-25 18:08:33,592 - langgraph_flow.nodes.planner - INFO - Selected 0 clusters for 3 days
2025-07-25 18:08:39,625 - langgraph_flow.nodes.planner - INFO - LLM reasoning completed successfully
2025-07-25 18:08:39,625 - langgraph_flow.nodes.planner - INFO - Successfully generated complete travel plan
2025-07-25 18:08:39,626 - langgraph_flow.planner_graph - INFO - Trip planning completed successfully
2025-07-25 18:08:39,634 - router.planner - INFO - Successfully generated travel plan with ID: plan_20250725_180839
